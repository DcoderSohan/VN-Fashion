var ee=Object.defineProperty,se=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var L=Object.getOwnPropertySymbols;var ae=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var U=(a,l,i)=>l in a?ee(a,l,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[l]=i,u=(a,l)=>{for(var i in l||(l={}))ae.call(l,i)&&U(a,i,l[i]);if(L)for(var i of L(l))re.call(l,i)&&U(a,i,l[i]);return a},b=(a,l)=>se(a,te(l));var w=(a,l,i)=>new Promise((f,y)=>{var N=c=>{try{o(i.next(c))}catch(p){y(p)}},s=c=>{try{o(i.throw(c))}catch(p){y(p)}},o=c=>c.done?f(c.value):Promise.resolve(c.value).then(N,s);o((i=i.apply(a,l)).next())});import{u as ie,a as le,r as m,j as e,o as $,t as ne,U as R,b as oe,P as K,c as ce,H as me}from"./react-vendor-DOeQAh_1.js";import{N as de,f as C,g as xe,F as ge,c as W}from"./index-R3vB6wu-.js";import{E as ue}from"./ErrorModal-BDSmrmg1.js";import{m as d}from"./framer-motion-DCJvwv2k.js";import"./vendor-Cj7CuQkd.js";import"./axios-DnTtldoj.js";const be=["09:00 AM","10:00 AM","11:00 AM","12:00 PM","01:00 PM","02:00 PM","03:00 PM","04:00 PM","05:00 PM","06:00 PM"],we=()=>{var T,S,k,D,M,E,O,q,z;const a=ie(),l=le(),[i,f]=m.useState([]),[y,N]=m.useState(!0),[s,o]=m.useState({serviceId:((T=a.state)==null?void 0:T.serviceId)||"",serviceTitle:((S=a.state)==null?void 0:S.serviceTitle)||"",servicePrice:((k=a.state)==null?void 0:k.servicePrice)||"",serviceCategory:((D=a.state)==null?void 0:D.serviceCategory)||"",designId:((M=a.state)==null?void 0:M.designId)||"",designTitle:((E=a.state)==null?void 0:E.designTitle)||"",designCategory:((O=a.state)==null?void 0:O.designCategory)||"",designPrice:((q=a.state)==null?void 0:q.designPrice)||"",designImage:((z=a.state)==null?void 0:z.designImage)||"",date:"",time:"",firstName:"",lastName:"",email:"",phone:"",contactNumber:"",notes:""}),[c,p]=m.useState(!1),[n,I]=m.useState(null),[G,j]=m.useState(!1),[J,P]=m.useState("");m.useEffect(()=>{w(void 0,null,function*(){try{N(!0);const r=yield W.getServices();f(r||[])}catch(r){console.error("Error fetching services:",r),f([])}finally{N(!1)}})},[]),m.useEffect(()=>{a.state&&o(t=>{var r,g,h,A,B,Y,F,_,H;return b(u({},t),{serviceId:((r=a.state)==null?void 0:r.serviceId)||t.serviceId,serviceTitle:((g=a.state)==null?void 0:g.serviceTitle)||t.serviceTitle,servicePrice:((h=a.state)==null?void 0:h.servicePrice)||t.servicePrice,serviceCategory:((A=a.state)==null?void 0:A.serviceCategory)||t.serviceCategory,designId:((B=a.state)==null?void 0:B.designId)||t.designId,designTitle:((Y=a.state)==null?void 0:Y.designTitle)||t.designTitle,designCategory:((F=a.state)==null?void 0:F.designCategory)||t.designCategory,designPrice:((_=a.state)==null?void 0:_.designPrice)||t.designPrice,designImage:((H=a.state)==null?void 0:H.designImage)||t.designImage})})},[a.state]);const Q=new Date().toISOString().split("T")[0],v=new Date;v.setMonth(v.getMonth()+3);const V=v.toISOString().split("T")[0],x=t=>{o(b(u({},s),{[t.target.name]:t.target.value}))},X=t=>w(void 0,null,function*(){if(t.preventDefault(),!s.serviceId&&!s.designId||!s.date||!s.time||!s.firstName||!s.lastName||!s.email||!s.phone){P("Please fill in all required fields to place your order"),j(!0);return}try{const r={firstName:s.firstName,lastName:s.lastName,email:s.email,phone:s.phone,contactNumber:s.contactNumber||s.phone,serviceId:s.serviceId||"",serviceTitle:s.serviceTitle||"",servicePrice:s.servicePrice||"",serviceCategory:s.serviceCategory||"",designId:s.designId||"",designTitle:s.designTitle||"",designCategory:s.designCategory||"",designPrice:s.designPrice||"",designImage:s.designImage||"",date:s.date,time:s.time,notes:s.notes||"",status:"pending"},g=yield W.createBooking(r),h=b(u({},r),{_id:g._id,name:`${s.firstName} ${s.lastName}`,serviceName:s.serviceTitle||s.designTitle||"Custom Service",bookingId:`BK${g._id}`,submittedAt:new Date().toLocaleString()});I(h),p(!0),window.scrollTo({top:0,behavior:"smooth"}),console.log("Order submitted successfully:",h)}catch(r){console.error("Error submitting order:",r),P("Failed to submit order. Please try again."),j(!0)}}),Z=()=>{p(!1),I(null),o({serviceId:"",serviceTitle:"",servicePrice:"",serviceCategory:"",designId:"",designTitle:"",designCategory:"",designPrice:"",designImage:"",date:"",time:"",firstName:"",lastName:"",email:"",phone:"",contactNumber:"",notes:""})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100",children:[e.jsx(de,{}),e.jsx("div",{className:"pt-24 pb-16 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs(d.div,{className:"text-center mb-12",initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("h1",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-bold mb-3 sm:mb-4",children:["Book Your ",e.jsx("span",{className:"text-blue-600",children:"Order"})]}),e.jsx("p",{className:"text-gray-600 text-base sm:text-lg max-w-2xl mx-auto px-2",children:"Fill in the details below to place your order"})]}),c?e.jsx(d.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-white rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 lg:p-10",children:e.jsxs("div",{className:"text-center",children:[e.jsx(d.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15},className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(me,{className:"text-green-600 sm:w-12 sm:h-12",size:36})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-3 sm:mb-4",children:"Thank You for Your Order!"}),e.jsx("p",{className:"text-gray-600 mb-2 sm:mb-3 text-base sm:text-lg px-2 font-medium",children:"Thanks for ordering! We will get back to you soon and contact you soon."}),e.jsx("p",{className:"text-gray-500 mb-6 sm:mb-8 text-sm sm:text-base px-2",children:"Your order has been successfully placed. Our team will reach out to you shortly to confirm the details."}),n&&e.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 sm:p-6 mb-6 sm:mb-8 text-left",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3 sm:mb-4",children:"Order Details"}),e.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Order ID:"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base break-all",children:n.bookingId})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsxs("span",{className:"text-gray-600 text-sm sm:text-base",children:[n.serviceCategory?"Design":"Service",":"]}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:n.serviceName})]}),n.serviceCategory&&e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Category:"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:n.serviceCategory})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Date:"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:new Date(n.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Time:"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:n.time})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Name:"}),e.jsxs("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:[n.firstName," ",n.lastName]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Email:"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base break-all",children:n.email})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-1 sm:gap-0",children:[e.jsx("span",{className:"text-gray-600 text-sm sm:text-base",children:"Phone:"}),e.jsx("span",{className:"font-semibold text-gray-900 text-sm sm:text-base",children:n.phone})]})]})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4 justify-center",children:[e.jsx(d.button,{onClick:Z,className:"px-5 py-2.5 sm:px-6 sm:py-3 bg-gray-200 text-gray-800 rounded-lg font-semibold hover:bg-gray-300 transition-colors text-sm sm:text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Place Another Order"}),e.jsx(d.button,{onClick:()=>l("/"),className:"px-5 py-2.5 sm:px-6 sm:py-3 bg-blue-600 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors text-sm sm:text-base",whileHover:{scale:1.05},whileTap:{scale:.95},children:"Back to Home"})]})]})}):e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.2},children:e.jsxs("form",{onSubmit:X,className:"bg-white rounded-xl sm:rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 lg:p-10 space-y-6 sm:space-y-8",children:[s.serviceTitle&&e.jsxs(d.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg p-4 sm:p-6 mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-2",children:"Selected Service"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-base sm:text-lg font-bold text-blue-600",children:s.serviceTitle}),s.serviceCategory&&e.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Category: ",e.jsx("span",{className:"font-semibold",children:s.serviceCategory})]}),s.servicePrice&&e.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Price: ",e.jsx("span",{className:"font-semibold text-green-600",children:C(s.servicePrice)})]})]}),e.jsx("button",{type:"button",onClick:()=>{o(b(u({},s),{serviceId:"",serviceTitle:"",servicePrice:"",serviceCategory:""}))},className:"mt-3 text-sm text-blue-600 hover:text-blue-800 underline",children:"Change Service"})]}),s.designTitle&&e.jsxs(d.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 rounded-lg p-4 sm:p-6 mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-3",children:"Selected Design"}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.designImage&&e.jsx("div",{className:"w-full sm:w-32 h-32 flex-shrink-0 rounded-lg overflow-hidden border-2 border-blue-200",children:e.jsx("img",{src:xe(s.designImage),alt:s.designTitle,className:"w-full h-full object-cover",onError:t=>{t.target.style.display="none"}})}),e.jsxs("div",{className:"flex-1 space-y-2",children:[e.jsx("p",{className:"text-base sm:text-lg font-bold text-blue-600",children:s.designTitle}),s.designCategory&&e.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Category: ",e.jsx("span",{className:"font-semibold",children:s.designCategory})]}),s.designPrice&&e.jsxs("p",{className:"text-sm sm:text-base text-gray-600",children:["Price: ",e.jsx("span",{className:"font-semibold text-green-600",children:C(s.designPrice)})]})]})]}),e.jsx("button",{type:"button",onClick:()=>{o(b(u({},s),{designId:"",designTitle:"",designCategory:"",designPrice:"",designImage:""}))},className:"mt-3 text-sm text-blue-600 hover:text-blue-800 underline",children:"Change Design"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:[e.jsx($,{className:"text-blue-600 sm:w-5 sm:h-5",size:18}),s.serviceTitle||s.designTitle?"Select Service (Optional)":"Select Service *"]}),y?e.jsx("div",{className:"w-full px-4 py-3 border border-gray-300 rounded-lg flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"})}):e.jsxs("select",{name:"serviceId",value:s.serviceId,onChange:t=>{const r=i.find(g=>g._id===t.target.value);o(b(u({},s),{serviceId:t.target.value,serviceTitle:(r==null?void 0:r.title)||"",servicePrice:(r==null?void 0:r.price)||"",serviceCategory:(r==null?void 0:r.category)||"",designId:t.target.value?"":s.designId,designTitle:t.target.value?"":s.designTitle,designCategory:t.target.value?"":s.designCategory,designPrice:t.target.value?"":s.designPrice}))},required:!s.serviceTitle&&!s.designTitle,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",children:[e.jsx("option",{value:"",children:"Choose a service..."}),i.map(t=>e.jsxs("option",{value:t._id,children:[t.title," ",t.price?`- ${C(t.price)}`:""]},t._id))]}),(s.serviceTitle||s.designTitle)&&e.jsx("p",{className:"mt-2 text-xs sm:text-sm text-gray-500",children:"You can select a different service or proceed with the selected item"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:[e.jsx($,{className:"text-blue-600 sm:w-5 sm:h-5",size:18}),"Select Date *"]}),e.jsx("input",{type:"date",name:"date",value:s.date,onChange:x,min:Q,max:V,required:!0,className:"w-full px-3 sm:px-4 py-2.5 sm:py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all text-sm sm:text-base"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-base sm:text-lg font-semibold text-gray-900 mb-3 sm:mb-4",children:[e.jsx(ne,{className:"text-blue-600 sm:w-5 sm:h-5",size:18}),"Select Time *"]}),e.jsxs("select",{name:"time",value:s.time,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",children:[e.jsx("option",{value:"",children:"Choose a time..."}),be.map(t=>e.jsx("option",{value:t,children:t},t))]})]})]}),e.jsxs("div",{className:"border-t pt-6 sm:pt-8",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-semibold text-gray-900 mb-4 sm:mb-6",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(R,{className:"text-blue-600",size:16}),"First Name *"]}),e.jsx("input",{type:"text",name:"firstName",value:s.firstName,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Your first name"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(R,{className:"text-blue-600",size:16}),"Last Name *"]}),e.jsx("input",{type:"text",name:"lastName",value:s.lastName,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Your last name"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 sm:gap-6 mt-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(oe,{className:"text-blue-600",size:16}),"Email Address *"]}),e.jsx("input",{type:"email",name:"email",value:s.email,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"your.email@example.com"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(K,{className:"text-blue-600",size:16}),"Phone Number *"]}),e.jsx("input",{type:"tel",name:"phone",value:s.phone,onChange:x,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"+91 1234567890"})]})]}),e.jsxs("div",{className:"mt-6",children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(K,{className:"text-blue-600",size:16}),"Contact Number (Optional)"]}),e.jsx("input",{type:"tel",name:"contactNumber",value:s.contactNumber,onChange:x,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all",placeholder:"Alternative contact number"}),e.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Additional contact number for admin to reach you"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700 mb-2",children:[e.jsx(ce,{className:"text-blue-600",size:16}),"Additional Notes"]}),e.jsx("textarea",{name:"notes",value:s.notes,onChange:x,rows:4,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none transition-all resize-none",placeholder:"Any specific requirements, style preferences, measurements, or special requests..."})]}),e.jsx(d.button,{type:"submit",className:"w-full py-3 sm:py-4 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-lg font-semibold text-base sm:text-lg shadow-lg hover:shadow-xl transition-all duration-300",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Place Order"})]})})]})}),e.jsx(ge,{}),e.jsx(ue,{isOpen:G,onClose:()=>j(!1),title:"Error",message:J})]})};export{we as default};
